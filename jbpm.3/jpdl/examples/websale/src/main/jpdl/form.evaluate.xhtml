<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

<head>
  <title>userForm</title>
  <link rel="stylesheet" type="text/css" href="../css/jbpm.css" />
</head>

<body>

<ui:composition>
<h:form id="taskform">
<h:inputHidden id="taskInstanceId" value="#{taskBean.taskInstanceId}" />
<h:inputHidden id="transitionName" value="#{taskBean.transitionName}" />

<table class="form">
  <tr class="form">
    <td colspan="2" class="form">
      <h2><h:outputText value="#{taskBean.taskInstance.name}" /></h2>
    </td>
  </tr>
  <tr>
    <td colspan="2"><img src="../images/formline.jpg" width="100%" height="24" border="0" alt=""/></td>
  </tr>
  <tr>
    <td>Item:</td>
    <td>
      <input jsfc="h:inputText" value="#{taskBean.variables['item']}" readonly="true"/>
    </td>
  </tr>
  <tr>
    <td>Quantity:</td>
    <td>
      <input jsfc="h:inputText" value="#{taskBean.variables['quantity']}" readonly="true"/>
    </td>
  </tr>
  <tr>
    <td>Address:</td>
    <td>
      <textarea jsfc="h:inputTextarea" value="#{taskBean.variables['address']}" readonly="true" rows="5"></textarea>
    </td>
  </tr>
  <tr>
    <td>Comment:</td>
    <td>
      <textarea jsfc="h:inputTextarea" rows="5" value="#{taskBean.comment}"></textarea>
    </td>
  </tr>
  <tr>
    <td colspan="2"><img src="../images/formline.jpg" width="100%" height="24" border="0" alt=""/></td>
  </tr>
  <tr>
    <td colspan="2">
      <input type="submit" jsfc="h:commandButton" id="transitionButton" action="#{taskBean.saveAndClose}" value="OK" onclick="document.forms['taskform'].elements['taskform:transitionName'].value='OK'"/> 
      <input type="submit" jsfc="h:commandButton" id="transitionButton" action="#{taskBean.saveAndClose}" value="Data Unclear" onclick="document.forms['taskform'].elements['taskform:transitionName'].value='More info needed'"/> 
    </td>
  </tr>
  <tr>
    <td colspan="2"><img src="../images/formline.jpg" width="100%" height="24" border="0" alt=""/></td>
  </tr>
  <tr>
    <td colspan="2" align="right">
      <input type="submit" jsfc="h:commandButton" action="#{taskBean.save}" value="Save"/> 
      <input type="submit" jsfc="h:commandButton"  action="#{taskBean.cancel}" value="Cancel"/>   
    </td>
  </tr>
</table>

</h:form>
</ui:composition>

</body>
</html>
