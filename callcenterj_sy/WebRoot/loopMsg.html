<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>loopMsg.html</title>
	
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
    <script language="javascript" src="./js/public.js"></script>
    <script language="javascript" src="./js/all.js"></script>
    <script language="javascript" src="./js/ajax.js"></script>
    <script language="javascript" src="./js/popMsg.js"></script>
<!--    <script language="javascript">-->
<!--        var intervalLength = 3000;-->
<!--        var handleWin = '-1';-->
<!--        var handleShowWin = '-1';-->
<!--        var handlerHiddenWin = '-1';-->
<!--        var curInfoId = '';-->
<!--        function getObj(id)-->
<!--		{-->
<!--			return document.getElementById(id);-->
<!--		}-->
<!--        function resetInterval(timeLength)-->
<!--        {-->
<!--        	if(handleWin!='-1')-->
<!--        	{-->
<!--        		window.clearInterval(handleWin);-->
<!--        		handleWin = -1;-->
<!--        	}-->
<!--        	intervalLength = timeLength;-->
<!--        	handleWin = intervalRun();-->
<!--        }-->
<!--    	function getMsg()-->
<!--    	{-->
<!--    	    var url = './servlet/msgLoopServlet?receiveMan=101';-->
<!--    		postXmlHttp(url,"showMsg()",'doNo()');-->
<!--    	}-->
<!--    	function showMsg()-->
<!--    	{-->
<!--    		var res_db = _xmlHttpRequestObj.responseText;-->
<!--    		if(res_db != 'noMsg')-->
<!--    		{-->
<!--    			var infos = res_db.split('[#^%#]');-->
<!--    			if(curInfoId != infos[0])-->
<!--    			{-->
<!--    				curInfoId = infos[0];-->
<!--    				intervalShowWin();-->
<!--    				getObj('curInfoContent').innerHTML=infos[1];-->
<!--    				getObj('infoNum').innerHTML=infos[2];-->
<!--    			}-->
<!--    		}-->
<!--    	}-->
<!--    	function intervalRun()-->
<!--    	{-->
<!--    		handleWin = window.setInterval("getMsg()",intervalLength);-->
<!--    		return handleWin;-->
<!--    	}-->
<!--    	function intervalShowWin()-->
<!--    	{-->
<!--    		handleShowWin = window.setInterval("showMsgWin()",200);-->
<!--    	}-->
<!--    	function addBottom(addHeight)-->
<!--    	{-->
<!--    		var curBottom = parseInt(getObj('showMsg').style.height);-->
<!--    		-->
<!--    		if(isNaN(curBottom))-->
<!--    		{-->
<!--    			curBottom = 0;-->
<!--    		}-->
<!--    		if(curBottom < 200)-->
<!--    		{-->
<!--    		    getObj('closeWin').disabled = true; -->
<!--    			getObj('showMsg').style.height  =  curBottom + addHeight;-->
<!--    		}-->
<!--    		else-->
<!--    		{-->
<!--    			getObj('showMsg').style.height = 200;-->
<!--    			getObj('closeWin').disabled = false; -->
<!--    			if(handleShowWin!='-1')-->
<!--    			{-->
<!--        			window.clearInterval(handleShowWin);-->
<!--        			handleShowWin = -1;-->
<!--        		}-->
<!--    		}-->
<!--    	}-->
<!--    	function subBottom(subHeight)-->
<!--    	{-->
<!--    		var curBottom = parseInt(getObj('showMsg').style.height);-->
<!--    		if(isNaN(curBottom))-->
<!--    		{-->
<!--    			curBottom = 0;-->
<!--    		}-->
<!--    		if(curBottom > 0)-->
<!--    		{-->
<!--    			getObj('showMsg').style.height  =  curBottom - subHeight;-->
<!--    			if(curBottom - subHeight <50)-->
<!--    			{-->
<!--    				getObj('infoTbl').style.display="none";-->
<!--    			}-->
<!--    		}-->
<!--    		else-->
<!--    		{-->
<!--    			-->
<!--    		    getObj('showMsg').style.height = 0;-->
<!--    		    -->
<!--    			if(handlerHiddenWin!='-1')-->
<!--    			{-->
<!--        			window.clearInterval(handlerHiddenWin);-->
<!--        			handlerHiddenWin = -1;-->
<!--        		}-->
<!--    		}-->
<!--    	}-->
<!--    	function showMsgWin()-->
<!--    	{-->
<!--    		getObj('infoTbl').style.display="inline";-->
<!--            addBottom(20);-->
<!--    	}-->
<!--    	function hiddenMsgWin()-->
<!--    	{-->
<!--    		subBottom(20);-->
<!--    	}-->
<!--    	function closeWin()-->
<!--    	{-->
<!--    	   getObj('closeWin').disabled = true; -->
<!--    	   -->
<!--    	   if(handleShowWin != -1)-->
<!--    	   {-->
<!--   	   			window.clearInterval(handleShowWin);-->
<!--       			handleShowWin = -1;-->
<!--    	   }-->
<!--    	   handlerHiddenWin = window.setInterval("hiddenMsgWin()",200);-->
<!--    	}-->
<!--    </script>-->
    <style type="text/css">
    	#showMsg{
    		width:250px;
    		height:0px;
    		position: absolute;
    		overflow:hidden;
    		right:50px;
    		bottom:20px;
    	}
    	.anniu{
			margin-left: 190px;
			margin-right: 10px;
		}
		.wenzi1{
			font-size: 13px;
			font-weight: normal;
			color: #000000;
			text-align: left;
		}
    </style>
  </head>
  
  <body>
    <input type="button" onclick="resetInterval(3000)" value="go" />
    <input type="button" onclick="getObj('showMsg').style.height = 0;" value="go" />
<!--    <div id="showMsg" style="height:0px;">-->
<!--    <table width="100%" height="100%" style="display:none;" id="infoTbl">-->
<!--    <tr>-->
<!--    <td align="right" valign="top" height="10px;" colspan="2">-->
<!--    <input type="button" onclick="closeWin()" id="closeWin" value="关闭" />-->
<!--    </td>-->
<!--    </tr>-->
<!--    <tr>-->
<!--     <td >-->
<!--    您有一条新消息-->
<!--    </td>-->
<!--    </tr>-->
<!--    <tr>-->
<!--    <td>-->
<!--    <div id="curInfoContent">-->
<!--    </div>-->
<!--    </td>-->
<!--    </tr>-->
<!--     <tr>-->
<!--     <td >-->
<!--    您有<span id="infoNum"></span>条新消息-->
<!--    </td>-->
<!--    </tr>-->
<!--    </table>-->
<!--    </div>-->
	<div id="showMsg" style="height:0px;">
	    <div style="display:none;width:100%;height:100%;" id="infoTbl">
			<table width="239" border="0" cellspacing="0" cellpadding="0">
			  <tr>
			    <td height="23" background="./images/messageInfo/Popping.jpg"><div class="anniu"><img id="closeWin" src="./images/messageInfo/Popping2.jpg" width="32" height="23" style="cursor:hand;" onclick="closeWin()" /></div></td>
			  </tr>
			</table>
			<table width="239" border="0" cellspacing="0" cellpadding="0">
			  <tr>
			    <td height="19" background="./images/messageInfo/Popping3.jpg">&nbsp;</td>
			  </tr>
			  <tr>
			    <td height="100" background="./images/messageInfo/Popping4.jpg"><table width="200" height="69" border="0" align="center" cellpadding="0" cellspacing="4">
			      <tr>
			        <td class="wenzi1">您有一条新消息</td>
			      </tr>
			      <tr>
			      <td>
			      <div id="curInfoContent">
   				  </div>
   				  </td>
			      </tr>
			      <tr>
			        <td class="wenzi1">您有<span id="infoNum"></span>条未读信息</td>
			      </tr>
			      
			    </table></td>
			  </tr>
			  <tr>
			    <td height="19" background="./images/messageInfo/Popping5.jpg">&nbsp;</td>
			  </tr>
			</table>
	    </div>
    </div>
  </body>
</html>
